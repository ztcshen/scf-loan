## 产品与子产品

### 概念
在核心系统表结构中，“产品”以 `product_code` 表示，是路由与业务配置的一级维度；“子产品”以 `sub_product_code` 或 `sub_prod_code` 表示，是产品下更细分的配置维度，用于细化路由、头寸限额与预审数据等规则范围。

### 主要属性来源
#### 路由产品枚举（产品/子产品的名称与编码）
来源：[核心系统表结构.md](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F%E8%A1%A8%E7%BB%93%E6%9E%84.md#L2928-L2941)
- prod_code：产品编码
- prod_name：产品名称
- sub_prod_code：子产品编码
- sub_prod_name：子产品名称
- enable_flag：是否有效
- desc_cn：中文说明
- created_time / updated_time：创建与更新时间

#### 路由产品属性配置（产品维度的规则/上限）
来源：[核心系统表结构.md](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2910-L2927)
- product_code：产品编号（外键 t_product_info）
- max_inqcredit_times：最大查询征信次数
- max_opertaion_times：最大前台交互次数
- max_audit_times：最大预审批时间
- max_sign_nucc_times：最大网联签署次数
- min_fundcode_times：支持最小资方数量（包含）
- max_fund_count：资方数量上限
- max_rate_fund_count：年化费率可路由资方最大个数
- enable_flag / created_time / updated_time：有效标识与时间字段

#### 产品模块（产品能力范围/期数/额度）
来源：[核心系统表结构.md](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2943-L2957)
- module_name：模块名称
- product_code：产品编码
- period：支持期数
- min_loan_amt / max_loan_amt：最小/最大借款金额
- rate_ranges：费率区间
- enable_flag / created_time / updated_time：有效标识与时间字段

### 在路由场景中的体现
- 路由信息表使用 `product_code` 与 `sub_product_code` 作为路由维度字段。[t_route_info](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2615-L2642)
- 预审批数据抽取表记录产品与子产品作为预审维度。[t_pre_approval_data_extraction](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2299-L2327)
- 资方头寸配置表以产品与子产品作为限额维度。[t_route_sign_limit_amt](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2981-L3000)

### 与资金项目的关系总结
在路由配置语境中，产品与资金项目是通过配置表建立的“关联关系”，不是全局父子从属关系。产品侧来自产品枚举与产品配置表，资金项目侧以 `capital_project_code` 独立存在，两者通过路由资产配置表中并列字段形成适用关系。[t_route_capital_config](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2385-L2414) [t_route_product_enum](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2928-L2941)

## 资金项目

### 概念
资金项目在表结构中以 `capital_project_code` 表示，是资方维度的核心标识，用于路由选择、额度与版本管理、放款与账务对账等场景。部分表还配套 `capital_project_version_no` 或 `sub_capital_project_code` 体现版本或子资金项目维度。

### 主要属性来源
#### 路由资产配置（资方配置维度）
来源：[核心系统表结构.md](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2385-L2414)
- capital_project_code：资方项目编码
- capital_name：资金模式名称
- product_code / sub_product_code：适用产品与子产品维度
- 其他配置字段：是否有效、预审维度、费率排除、有效期等

#### 订单维度与版本信息
来源：[核心系统表结构.md](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L1827-L1866)
- capital_project_code：订单关联的资方项目编码
- sub_capital_project_code：子资金项目编码
- capital_project_version_no / sub_capital_project_version_no：资方项目版本信息

#### 放款后扩展与在贷余额维度
来源：[核心系统表结构.md](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2114-L2155)
- capital_project_code：资金项目编码
- capital_project_version_no：资金项目版本号

### 在路由与额度中的体现
- 路由明细表以 `capital_project_code` 记录每个资方维度路由结果。[t_route_capital_list](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2452-L2474)
- 资方头寸配置以 `capital_project_code` 和产品/子产品组合配置额度。[t_route_sign_limit_amt](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L2981-L3000)
- 在贷余额与对账类表使用 `capital_project_code` 作为资方维度聚合字段。[t_bill_balance](file:///d:/IdeaProjects/scf-loan/docs/design/%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%93%E6%9E%84.md#L126-L143)
